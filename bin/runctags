#! /bin/bash
$1
ctags -R --c++-kinds=+p --fields=+iaS --extra=+q $1
find $1 -name "*.c" -o -name "*.cpp" -o -name "*.h" -o -name "*.hpp" > $1/cscope.files
cscope -q -R -b -i $1/cscope.files

echo "-I../ti/toolchain/sasken/env/sasken/inc" > $1/.syntastic_cpp_config
echo "" >> $1/.syntastic_cpp_config
find $1 -name "*.h" -exec dirname {} \; | sort | uniq | sed -e 's/^/-I/' >> $1/.syntastic_cpp_config
